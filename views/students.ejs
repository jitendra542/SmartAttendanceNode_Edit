<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Students - Smart Attendance</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">
  <h2>Students</h2>
  <a class="btn btn-primary mb-3" href="/students/new">Add Student</a>
  <a class="btn btn-success mb-3 ms-2" href="/scan">Open Scanner</a>
  <a class="btn btn-secondary mb-3 ms-2" href="/attendance">Attendance</a>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead><tr><th>Roll</th><th>Name</th><th>QR</th><th>Action</th></tr></thead>
      <tbody>
      <% students.forEach(s => { %>
        <tr>
          <td><%= s.roll %></td>
          <td><%= s.name %></td>
          <td><a class="btn btn-sm btn-outline-secondary" href="/students/<%= s.id %>/qr">View</a></td>
          <td>
            <form action="/students/<%= s.roll %>/edit" method="POST" class="d-inline">
              <input type="text" name="name" placeholder="Edit Name" required class="form-control form-control-sm mb-1">
              <button class="btn btn-sm btn-primary mb-1" type="submit">Save</button>
            </form>
            <a class="btn btn-sm btn-danger" href="/students/<%= s.roll %>/delete">Delete</a>
          </td>
        </tr>
      <% }) %>
      </tbody>
    </table>
  </div>
</body>
</html>